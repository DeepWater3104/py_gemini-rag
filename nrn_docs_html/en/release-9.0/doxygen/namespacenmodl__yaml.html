<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NEURON: nmodl_yaml Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script async type="text/javascript" src="/_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="nrn" /><meta name="readthedocs-version-slug" content="release-9.0" /><meta name="readthedocs-resolver-filename" content="/doxygen/namespacenmodl__yaml.html" /><meta name="readthedocs-http-status" content="200" /></head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NEURON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespacenmodl__yaml.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">nmodl_yaml Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>NMODL Abstract Language Definition ##############################.  
<a href="namespacenmodl__yaml.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>NMODL Abstract Language Definition ##############################. </p>
<h1>PURPOSE </h1>
<p>Lot of information about language constructs is necessary at various stages like AST definitions, visitors implementation, source-to-source transformations etc. In case of small changes in grammar or AST definition, especially during development stage, we have to re-write considerable part of the code. The idea of "abstract" language definition is to define framework that can automatically generate part of this "mechanical" code. This approach has been used in some open source projects (e.g. compiler design courses, TableGen format in LLVM).</p>
<p>During first prototyping phase we defined simple text rules inspired by compiler course assignment available at jazariethach/project6_CS160.git (no longer available on github).</p>
<p>The basic format of the every construct specification was: </p><pre class="fragment">  BaseType:ChildType =&gt; MemberType&lt;member_name&gt;
</pre><p> Here "ChildType" is a new AST class that we are defining. "ParentType" is the base class, "MemberType" is the type of member variable with variable name "member_name". The name is specified in the angle braces "&lt; &gt;". This will generate C++ class definition like : </p><pre class="fragment">  class ChildType : public BaseType {
    private:
      MemberType member_name;
  };
</pre><p> This specification format was sufficient for first AST design but as we started implementing more features and compiler passes, we need to add more information to language definition. For example, we need to make certain members vector, some are optional, some need specific method (getter/setter) etc. In the future we may need to make certain members private. Above text definition is limiting if we have to accomodate future enhancements.</p>
<p>To overcome above limitation, we are moving to YAML definition format. This allows easy extension to language construct. For example, new properties could be easily added to exisiting specification.</p>
<h1>NOTE </h1>
<p>Old text specification has been converted to YAML format. The old documentation has information about how/why specific types were choosen for AST. You can find that documentation in the older commits of this file (e.g. a0a20e277ccf26752af4f648c245b4e06a44af20).</p>
<h1>YAML BASED RULE SPECIFICATION </h1>
<p>Text based specification described above is very limiting in terms adding extra properties. YAML based specification allows easy addition of new properties. Below are some comments about the properties and specification :</p>
<ol type="1">
<li>Every key in YAML specification is AST node</li>
<li>The hierarchy defines parent-child class relationship</li>
<li>members is an array of member variables of the class</li>
<li>optional : indicates if variable is optional in bison specification (i.e. pointer)</li>
<li>type : type of the member</li>
<li>vector : if member variable is std::vector type</li>
<li>prefix/suffix : value : indicates the value (i.e. string here) of prefix/suffix itself force : print value always even if member if null pointer itself (e.g. arguments)</li>
<li>separator : for the vector data type, the separator for prinitng elements</li>
<li>node_name : add get_node_name() method to class and return corresponding value as name</li>
<li>add : need to have addMemberType method for corresponding variable (todo : remove this)</li>
<li>order of the members is important and determines how constructors/nmodl visitor get defined from python code generators.</li>
</ol>
<p>TODO : Add detailed information about YAML specification by porting old text based rule specification</p>
<p>Specification of NMODL in YAML format </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
  <ul>
    <li class="navelem"><a class="el" href="namespacenmodl__yaml.html">nmodl_yaml</a></li>
  </ul>
</div>
<hr class="footer"/>
<address class="footer">
    <small>
    </small>
</address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
