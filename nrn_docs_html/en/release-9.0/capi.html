

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" />
  <meta name="readthedocs-addons-api-version" content="1"><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>C API &mdash; NEURON  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=4c969af8" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=6933245a" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/tabs.js?v=3ee01567"></script>
      <script src="_static/design-tabs.js?v=f930bc37"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="_static/js/theme.js"></script>
    <script src="_static/js/versions.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Internal C/C++ documentation" href="doxygen.html" />
    <link rel="prev" title="HOC Sphinx Domain" href="dev/hocdomain-sphinx.html" /> 
<script async type="text/javascript" src="/_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="nrn" /><meta name="readthedocs-version-slug" content="release-9.0" /><meta name="readthedocs-resolver-filename" content="/capi.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            NEURON
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Building:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmake_doc/options.html">CMake Build Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="install/developer.html">Developer Builds</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="videos/index.html">Training videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="courses/exercises2018.html">NEURON Course Exercises</a></li>
<li class="toctree-l1"><a class="reference external" href="https://neuron.yale.edu/phpBB">The NEURON forum</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications about NEURON</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications-using-neuron.html">Publications using NEURON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NEURON scripting:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="scripting.html">Running Python and HOC scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="progref/index.html">NEURON Programmer’s Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="otherscripting.html">Other scripting languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Python tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="rxd-tutorials/index.html">Python RXD tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="coreneuron/index.html">CoreNEURON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NMOD Language:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nmodl/language.html">Language Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="nmodl/transpiler/index.html">About the NMODL transpiler</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="scm/index.html">NEURON SCM and Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/index.html">NEURON Development topics</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">C API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#initialization">Initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sections">Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#segments">Segments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions-objects-and-the-stack">Functions, objects, and the stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shape-plot">Shape Plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parameter-reading-functions">Parameter-reading functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#common-usage-patterns">Common Usage Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-and-connecting-sections">Creating and Connecting Sections:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-objects-and-methods">Working with Objects and Methods:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-management">Memory Management:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#runnable-example-with-compilation-instructions">Runnable example with compilation instructions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#a-hodgkin-huxley-neuron-simulation-in-c-17">A Hodgkin-Huxley NEURON simulation in C++17</a></li>
<li class="toctree-l3"><a class="reference internal" href="#to-compile-on-macos-or-linux">To compile on macOS or Linux</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doxygen.html">Internal C/C++ documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Removed Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="removed_features.html">Removed Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changelog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">NEURON 9.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html#neuron-8-2">NEURON 8.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html#neuron-8-1">NEURON 8.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html#neuron-8-0">NEURON 8.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html#contributors">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html#feedback-help">Feedback / Help</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NEURON</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">C API</li>
<li class="wy-breadcrumbs-aside">
    
    
</li>

      <li class="wy-breadcrumbs-aside">
            <a href="_sources/capi.rst.txt" rel="nofollow"> View page source</a>
      </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="c-api">
<h1>C API<a class="headerlink" href="#c-api" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#initialization" id="id1">Initialization</a></p></li>
<li><p><a class="reference internal" href="#sections" id="id2">Sections</a></p></li>
<li><p><a class="reference internal" href="#segments" id="id3">Segments</a></p></li>
<li><p><a class="reference internal" href="#functions-objects-and-the-stack" id="id4">Functions, objects, and the stack</a></p></li>
<li><p><a class="reference internal" href="#shape-plot" id="id5">Shape Plot</a></p></li>
<li><p><a class="reference internal" href="#miscellaneous" id="id6">Miscellaneous</a></p></li>
<li><p><a class="reference internal" href="#parameter-reading-functions" id="id7">Parameter-reading functions</a></p></li>
<li><p><a class="reference internal" href="#common-usage-patterns" id="id8">Common Usage Patterns</a></p>
<ul>
<li><p><a class="reference internal" href="#creating-and-connecting-sections" id="id9">Creating and Connecting Sections:</a></p></li>
<li><p><a class="reference internal" href="#working-with-objects-and-methods" id="id10">Working with Objects and Methods:</a></p></li>
<li><p><a class="reference internal" href="#memory-management" id="id11">Memory Management:</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#runnable-example-with-compilation-instructions" id="id12">Runnable example with compilation instructions</a></p>
<ul>
<li><p><a class="reference internal" href="#a-hodgkin-huxley-neuron-simulation-in-c-17" id="id13">A Hodgkin-Huxley NEURON simulation in C++17</a></p></li>
<li><p><a class="reference internal" href="#to-compile-on-macos-or-linux" id="id14">To compile on macOS or Linux</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="initialization">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Initialization</a><a class="headerlink" href="#initialization" title="Link to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_init">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_init</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">argc</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">argv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_init" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize the NEURON environment. This function must be called before using any other NEURON API functions.
The initialization sets up the NEURON interpreter and internal data structures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argc</strong> – Argument count (should be at least 1, the name of the program)</p></li>
<li><p><strong>argv</strong> – Argument vector (length should be one longer than argc and end with <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success, non-zero on failure.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>This function is called at the beginning of a NEURON session.
The arguments are passed to the NEURON simulator as if it was launched with that argv.
The first argument is typically the program name (e.g., “NEURON”).
Some error messages may include the program name.</p>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="o">&gt;</span><span class="w"> </span><span class="n">argv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;NEURON&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-nogui&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-nopython&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">};</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nrn_init</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">.</span><span class="n">data</span><span class="p">())</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// handle initialization error</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_stdout_redirect">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_stdout_redirect</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">myprint</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_stdout_redirect" title="Link to this definition"></a><br /></dt>
<dd><p>Redirect NEURON’s stdout to a custom print function. This allows capturing NEURON’s output
and redirecting it to alternative destinations (e.g., Jupyter notebook or MATLAB command window).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>myprint</strong> – Function pointer for custom printing. The function should accept two parameters:
stream (1 for stdout, other values for stderr) and the message string.</p></li>
</ul>
</dd>
</dl>
<p><strong>Example:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">my_print_func</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">stream</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">msg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">stream</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;[STDOUT] %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;[STDERR] %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">nrn_stdout_redirect</span><span class="p">(</span><span class="n">my_print_func</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="sections">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Sections</a><a class="headerlink" href="#sections" title="Link to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_new">
<span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_new</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_new" title="Link to this definition"></a><br /></dt>
<dd><p>Create a new Section with the given name. Sections are the fundamental building blocks
of NEURON morphologies, representing cable segments of neurons. HOC functions can
see the Section name but they cannot be referred to directly in HOC like a Section created
in HOC (i.e., they do not occupy the HOC namespace). The returned Section pointer is used
in subsequent operations to reference the Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the new Section (must be unique within the model).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the newly created Section object.</p>
</dd>
</dl>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">Section</span><span class="o">*</span><span class="w"> </span><span class="n">soma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_section_new</span><span class="p">(</span><span class="s">&quot;soma&quot;</span><span class="p">);</span>
<span class="n">Section</span><span class="o">*</span><span class="w"> </span><span class="n">dendrite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_section_new</span><span class="p">(</span><span class="s">&quot;dendrite&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">neuron</span><span class="w"> </span><span class="kn">import</span> <span class="n">n</span>
<span class="n">soma</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">Section</span><span class="p">(</span><span class="s1">&#39;soma&#39;</span><span class="p">)</span>
<span class="n">dendrite</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">Section</span><span class="p">(</span><span class="s1">&#39;dendrite&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_connect">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_connect</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">child_sec</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">child_x</span></span>, <span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">parent_sec</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">parent_x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_connect" title="Link to this definition"></a><br /></dt>
<dd><p>Connect a child Section to a parent Section at specified locations. This defines
the topological structure of the neuron. Typically, dendrites and axons
are connected to the soma, and further branches are connected to primary dendrites.
That is, the 0 end of the child is usually connected to the 1 end of the parent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>child_sec</strong> – Pointer to the child Section to be connected.</p></li>
<li><p><strong>child_x</strong> – Connection point on child Section (must be either 0 or 1, but typically 0).</p></li>
<li><p><strong>parent_sec</strong> – Pointer to the parent Section.</p></li>
<li><p><strong>parent_x</strong> – Connection point on parent Section (any value between 0 and 1, but typically 1).</p></li>
</ul>
</dd>
</dl>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Connect beginning of dendrite to end of soma</span>
<span class="n">nrn_section_connect</span><span class="p">(</span><span class="n">dendrite</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Connect beginning of dendrite to end of soma</span>
<span class="n">dendrite</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">soma</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_length_set">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_length_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">length</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_length_set" title="Link to this definition"></a><br /></dt>
<dd><p>Set the length of a Section in microns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
<li><p><strong>length</strong> – Length in microns.</p></li>
</ul>
</dd>
</dl>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrn_section_length_set</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">20.0</span><span class="p">);</span><span class="w">    </span><span class="c1">// Set soma length to 20 μm</span>
<span class="n">nrn_section_length_set</span><span class="p">(</span><span class="n">dendrite</span><span class="p">,</span><span class="w"> </span><span class="mf">100.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set dendrite length to 100 μm</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">soma</span><span class="o">.</span><span class="n">L</span> <span class="o">=</span> <span class="mi">20</span>    <span class="c1"># Set soma length to 20 μm</span>
<span class="n">dendrite</span><span class="o">.</span><span class="n">L</span> <span class="o">=</span> <span class="mi">100</span>   <span class="c1"># Set dendrite length to 100 μm</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_length_get">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_length_get</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_length_get" title="Link to this definition"></a><br /></dt>
<dd><p>Get the length of a Section in microns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Length of the Section in microns.</p>
</dd>
</dl>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_section_length_get</span><span class="p">(</span><span class="n">soma</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">length</span> <span class="o">=</span> <span class="n">soma</span><span class="o">.</span><span class="n">L</span>  <span class="c1"># Get soma length</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_Ra_get">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_Ra_get</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_Ra_get" title="Link to this definition"></a><br /></dt>
<dd><p>Get the axial resistance (Ra) of a Section in ohm⋅cm.
Ra represents the resistance of the cytoplasm along the length of the Section.
Lower values indicate better electrical connectivity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Axial resistance in ohm⋅cm.</p>
</dd>
</dl>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">Ra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_section_Ra_get</span><span class="p">(</span><span class="n">soma</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ra and rallbranch are Section level properties; they are not range variables
and do not vary within a Section.</p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_Ra_set">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_Ra_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">val</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_Ra_set" title="Link to this definition"></a><br /></dt>
<dd><p>Set the axial resistance (Ra) of a Section in ohm⋅cm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
<li><p><strong>val</strong> – Axial resistance value in ohm⋅cm.</p></li>
</ul>
</dd>
</dl>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrn_section_Ra_set</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">100.0</span><span class="p">);</span><span class="w">  </span><span class="c1">// Set axial resistance to 100 ohm⋅cm</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">soma</span><span class="o">.</span><span class="n">Ra</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># Set axial resistance to 100 ohm⋅cm</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_rallbranch_get">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_rallbranch_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_rallbranch_get" title="Link to this definition"></a><br /></dt>
<dd><p>Get the Rallbranch value of a Section. This is used in models with branching corrections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Rallbranch value.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ra and rallbranch are Section level properties; they are not range variables
and do not vary within a Section.</p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_rallbranch_set">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_rallbranch_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">val</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_rallbranch_set" title="Link to this definition"></a><br /></dt>
<dd><p>Set the Rallbranch value of a Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
<li><p><strong>val</strong> – Rallbranch value to set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_secname">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_secname</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_secname" title="Link to this definition"></a><br /></dt>
<dd><p>Get the name of a Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Null-terminated string containing the Section name.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for debugging, logging, or displaying Section information.
Inside of a loop, this is sometimes used to identify the Section category
(e.g., does the Section name start with <code class="docutils literal notranslate"><span class="pre">dend</span></code>? If so, maybe we have a special
rule for how to handle dendrites), but that effect could also be obtained by
using a SectionList.</p>
<p>Once a Section has been created, its name cannot be changed.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_secname</span><span class="p">(</span><span class="n">soma</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">soma</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_push">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_push</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_push" title="Link to this definition"></a><br /></dt>
<dd><p>Push a Section onto the Section stack, making it the currently accessed Section.
Many NEURON operations work on the currently accessed Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section to push.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used when you need to perform operations that require a Section to be “currently accessed.”
Always pair with <code class="docutils literal notranslate"><span class="pre">nrn_section_pop()</span></code> to restore the previous state.</p>
<p>A call to a NEURON function from Python with a <code class="docutils literal notranslate"><span class="pre">sec=</span></code> effectively pushes the Section,
runs the function, and then pops the Section.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrn_section_push</span><span class="p">(</span><span class="n">soma</span><span class="p">);</span><span class="w">           </span><span class="c1">// Make soma current</span>
<span class="c1">// Perform operations on the soma</span>
<span class="n">nrn_section_pop</span><span class="p">();</span><span class="w">                </span><span class="c1">// Restore previous Section</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#c.nrn_section_pop" title="nrn_section_pop"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_section_pop()</span></code></a></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_pop">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_pop</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_pop" title="Link to this definition"></a><br /></dt>
<dd><p>Pop the top Section from the Section stack, restoring the previously accessed Section.</p>
<p><strong>Usage Pattern:</strong></p>
<p>Always used after <code class="docutils literal notranslate"><span class="pre">nrn_section_push()</span></code> to restore the Section stack state.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#c.nrn_section_push" title="nrn_section_push"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_section_push()</span></code></a></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_mechanism_insert">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_mechanism_insert</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mechanism</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_mechanism_insert" title="Link to this definition"></a><br /></dt>
<dd><p>Insert a density mechanism into a Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the target Section.</p></li>
<li><p><strong>mechanism</strong> – Symbol representing the mechanism to insert.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong>
Used to add biophysical properties to Sections.
Density mechanisms are present at all locations within the Section, but their
properties (when specified as RANGE) may vary within the Section.
Built-in mechanisms include ‘pas’ (passive) and ‘hh’ (Hodgkin-Huxley).
Others are available from many sources, including <a class="reference external" href="https://modeldb.science">ModelDB</a>
and <a class="reference external" href="https://channelpedia.epfl.ch">Channelpedia</a>.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">pas_symbol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;pas&quot;</span><span class="p">);</span>
<span class="n">nrn_mechanism_insert</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="n">pas_symbol</span><span class="p">);</span><span class="w">  </span><span class="c1">// Insert passive mechanism</span>

<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">hh_symbol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;hh&quot;</span><span class="p">);</span>
<span class="n">nrn_mechanism_insert</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="n">hh_symbol</span><span class="p">);</span><span class="w">   </span><span class="c1">// Insert Hodgkin-Huxley mechanism</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">soma</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;pas&#39;</span><span class="p">)</span>  <span class="c1"># Insert passive mechanism; or alternatively soma.insert(n.pas)</span>
<span class="n">soma</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;hh&#39;</span><span class="p">)</span>   <span class="c1"># Insert Hodgkin-Huxley mechanism</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#c.nrn_symbol" title="nrn_symbol"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_symbol()</span></code></a></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_allsec">
<span class="n"><span class="pre">nrn_Item</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_allsec</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_allsec" title="Link to this definition"></a><br /></dt>
<dd><p>Get all Sections in the current model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pointer to a <code class="docutils literal notranslate"><span class="pre">nrn_Item</span></code> containing the list of all Sections.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used with <a class="reference internal" href="#c.nrn_sectionlist_iterator_new" title="nrn_sectionlist_iterator_new"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_sectionlist_iterator_new()</span></code></a> to iterate over all Sections
in the model, often for applying operations globally or for analysis purposes.
This is equivalent to using <code class="docutils literal notranslate"><span class="pre">n.allsec()</span></code> in Python and shares the same caveats.
In particular, future versions of the model may introduce new Sections whose
properties would be different, so consider using specifically chosen SectionLists
instead of looping over all Sections.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrn_Item</span><span class="o">*</span><span class="w"> </span><span class="n">all_sections</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_allsec</span><span class="p">();</span>
<span class="c1">// Use iterator to process all sections</span>
<span class="n">SectionListIterator</span><span class="o">*</span><span class="w"> </span><span class="n">iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_sectionlist_iterator_new</span><span class="p">(</span><span class="n">all_sections</span><span class="p">);</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">nrn_sectionlist_iterator_done</span><span class="p">(</span><span class="n">iter</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Section</span><span class="o">*</span><span class="w"> </span><span class="n">sec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_sectionlist_iterator_next</span><span class="p">(</span><span class="n">iter</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Process Section</span>
<span class="p">}</span>
<span class="n">nrn_sectionlist_iterator_free</span><span class="p">(</span><span class="n">iter</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">sec</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">allsec</span><span class="p">():</span>
    <span class="c1"># Process Section</span>
    <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_sectionlist_data">
<span class="n"><span class="pre">nrn_Item</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_sectionlist_data</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_sectionlist_data" title="Link to this definition"></a><br /></dt>
<dd><p>Given a NEURON <code class="docutils literal notranslate"><span class="pre">SectionList</span></code> object, return a <code class="docutils literal notranslate"><span class="pre">nrn_Item*</span></code> that can be used to
loop over the Sections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to a SectionList object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">nrn_Item*</span></code> suitable for iteration.</p>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">nrn_Item*</span></code> returned can be used for loops in the same way as the <code class="docutils literal notranslate"><span class="pre">all_sections</span></code> variable in
the example in <a class="reference internal" href="#c.nrn_allsec" title="nrn_allsec"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_allsec()</span></code></a>.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_is_active">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_is_active</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_is_active" title="Link to this definition"></a><br /></dt>
<dd><p>Check if a Section is active (exists and is valid).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section to check.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the Section is active, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for validation before performing operations on Sections, especially
when Sections might have been deleted or are from external sources.
Inactive Sections might arise if the Section has been explicitly deleted
but is referenced in a SectionList. Each iteration over a SectionList
checks for inactive Sections and removes them (they are not returned).
Only after there are no references to a deleted Section will its memory be freed.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_ref">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_ref</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_ref" title="Link to this definition"></a><br /></dt>
<dd><p>Increase the Section’s reference count. Sections with active references will
not be free’d from memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section to reference.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_section_unref">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_section_unref</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_section_unref" title="Link to this definition"></a><br /></dt>
<dd><p>Decrease the Section’s reference count. Sections with active references will
not be free’d from memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section to unreference.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_cas">
<span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_cas</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_cas" title="Link to this definition"></a><br /></dt>
<dd><p>Get the currently accessed Section (top of the Section stack).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pointer to the currently accessed Section, or NULL if stack is empty.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to determine which Section is currently active for operations that
depend on the Section stack state.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">Section</span><span class="o">*</span><span class="w"> </span><span class="n">current_sec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_cas</span><span class="p">();</span><span class="w">  </span><span class="c1">// Get currently accessed Section</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">current_sec</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">cas</span><span class="p">()</span>  <span class="c1"># Get currently accessed Section</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="segments">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Segments</a><a class="headerlink" href="#segments" title="Link to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_nseg_get">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_nseg_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_nseg_get" title="Link to this definition"></a><br /></dt>
<dd><p>Get the number of segments in a Section. Segments are computational compartments
within a Section used for numerical integration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of segments in the Section.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>The number of segments determines the spatial resolution of the simulation.
More segments provide higher accuracy but increase computational cost.
The number of segments is sometimes set based on the d-lambda rule.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">n_segments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_nseg_get</span><span class="p">(</span><span class="n">soma</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">n_segments</span> <span class="o">=</span> <span class="n">soma</span><span class="o">.</span><span class="n">nseg</span>  <span class="c1"># Get number of segments</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_nseg_set">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_nseg_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">nseg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_nseg_set" title="Link to this definition"></a><br /></dt>
<dd><p>Set the number of segments in a Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
<li><p><strong>nseg</strong> – Number of segments to set (must be ≥ 1).</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Typically set based on the d-lambda rule or manual specification for accuracy.
Common values are 1, 3, 5, etc. (We recommend using odd numbers for nseg, so
that there is always a node centered around the Section center. With an even number of segments,
the center node would be at the border between two segments.)</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrn_nseg_set</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">     </span><span class="c1">// Single compartment</span>
<span class="n">nrn_nseg_set</span><span class="p">(</span><span class="n">dendrite</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w"> </span><span class="c1">// Five compartments</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">soma</span><span class="o">.</span><span class="n">nseg</span> <span class="o">=</span> <span class="mi">1</span>     <span class="c1"># Single compartment</span>
<span class="n">dendrite</span><span class="o">.</span><span class="n">nseg</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1"># Five compartments</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_segment_diam_set">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_segment_diam_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">x</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">diam</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_segment_diam_set" title="Link to this definition"></a><br /></dt>
<dd><p>Set the diameter of a segment (specified as normalized position x along the Section).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
<li><p><strong>x</strong> – Normalized position along Section (0.0 to 1.0).</p></li>
<li><p><strong>diam</strong> – Diameter in microns.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to define the morphological shape of Sections. The diameter can vary
along the length of a Section to model tapering dendrites or axons.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Set at specific location</span>
<span class="n">nrn_segment_diam_set</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">25.0</span><span class="p">);</span><span class="w">  </span><span class="c1">// Set diameter at middle to 25 μm</span>

<span class="c1">// Set diameter for all of dend uniformly</span>
<span class="kt">int</span><span class="w"> </span><span class="n">nseg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_nseg_get</span><span class="p">(</span><span class="n">dend</span><span class="p">);</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nseg</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.5</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">nseg</span><span class="p">;</span>
<span class="w">    </span><span class="n">nrn_segment_diam_set</span><span class="p">(</span><span class="n">dend</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mf">10.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set each segment diameter to 10 μm</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set at specific location</span>
<span class="n">soma</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">diam</span> <span class="o">=</span> <span class="mi">25</span>   <span class="c1"># Set diameter at middle of Section</span>

<span class="c1"># Set diameter everywhere</span>
<span class="n">dend</span><span class="o">.</span><span class="n">diam</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Setting segment diameters will have no effect if 3d points have been specified
for that Section via <code class="docutils literal notranslate"><span class="pre">pt3dadd</span></code>. To allow diameter specification after that,
first call <code class="docutils literal notranslate"><span class="pre">pt3dclear</span></code> to remove the 3d points.</p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_segment_diam_get">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_segment_diam_get</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_segment_diam_get" title="Link to this definition"></a><br /></dt>
<dd><p>Get the diameter of a segment at normalized position x along the Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
<li><p><strong>x</strong> – Normalized position along Section (0.0 to 1.0).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Diameter in microns at the specified position.</p>
</dd>
</dl>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">diameter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_segment_diam_get</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">);</span><span class="w">  </span><span class="c1">// Get diameter at middle</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">diameter</span> <span class="o">=</span> <span class="n">soma</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">diam</span>  <span class="c1"># Get diameter at middle of Section</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_rangevar_push">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_rangevar_push</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span>, <span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_rangevar_push" title="Link to this definition"></a><br /></dt>
<dd><p>Push a range variable for a Section at position x onto the NEURON stack.
Range variables are properties that can vary along the length of a Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Symbol representing the range variable.</p></li>
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
<li><p><strong>x</strong> – Normalized position along Section (0.0 to 1.0).</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Push a range variable when it is the argument to a NEURON function/method call.
For memory safety, use functions like this instead of passing around raw pointers.</p>
<p><strong>Example:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Push the range variable for soma(0.5).v onto the stack</span>
<span class="c1">// Assumes soma is a Section* and we wish to record the voltage at 0.5 over time</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;v&quot;</span><span class="p">);</span>
<span class="n">nrn_rangevar_push</span><span class="p">(</span><span class="n">sym</span><span class="p">,</span><span class="w"> </span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">);</span>

<span class="c1">// Now you can use this pushed variable in a method call</span>
<span class="c1">// For example, assume vec is a NEURON Vector Object*</span>
<span class="n">nrn_method_call</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;record&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// Call record method with 1 argument (the pushed range variable)</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_rangevar_get">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_rangevar_get</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span>, <span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_rangevar_get" title="Link to this definition"></a><br /></dt>
<dd><p>Get the value of a range variable at position x in a Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Symbol representing the range variable.</p></li>
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
<li><p><strong>x</strong> – Normalized position along Section (0.0 to 1.0).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Value of the range variable at the specified position.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to read spatially distributed properties such as:
- <code class="docutils literal notranslate"><span class="pre">g_pas</span></code>: passive conductance
- <code class="docutils literal notranslate"><span class="pre">m_hh</span></code>: sodium channel gating variable
- <code class="docutils literal notranslate"><span class="pre">v</span></code>: membrane voltage</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Get membrane voltage</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">v_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;v&quot;</span><span class="p">);</span>
<span class="kt">double</span><span class="w"> </span><span class="n">voltage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_rangevar_get</span><span class="p">(</span><span class="n">v_sym</span><span class="p">,</span><span class="w"> </span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get membrane voltage</span>
<span class="n">voltage</span> <span class="o">=</span> <span class="n">soma</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">v</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_rangevar_set">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_rangevar_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span>, <span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">x</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_rangevar_set" title="Link to this definition"></a><br /></dt>
<dd><p>Set the value of a range variable at position x in a Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Symbol representing the range variable.</p></li>
<li><p><strong>sec</strong> – Pointer to the Section.</p></li>
<li><p><strong>x</strong> – Normalized position along Section (0.0 to 1.0).</p></li>
<li><p><strong>value</strong> – Value to set for the range variable.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to configure biophysical properties of Sections, such as:
- Setting channel densities
- Configuring passive properties
- Initializing membrane voltages</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Set initial voltage</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">v_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;v&quot;</span><span class="p">);</span>
<span class="n">nrn_rangevar_set</span><span class="p">(</span><span class="n">v_sym</span><span class="p">,</span><span class="w"> </span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">-65.0</span><span class="p">);</span><span class="w">  </span><span class="c1">// mV</span>

<span class="c1">// Set passive conductance at all segments of dend</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">g_pas_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;g_pas&quot;</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="n">nseg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_nseg_get</span><span class="p">(</span><span class="n">dend</span><span class="p">);</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nseg</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.5</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">nseg</span><span class="p">;</span>
<span class="w">    </span><span class="n">nrn_rangevar_set</span><span class="p">(</span><span class="n">g_pas_sym</span><span class="p">,</span><span class="w"> </span><span class="n">dend</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">);</span><span class="w"> </span><span class="c1">// 0.001 S/cm²</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set initial voltage at the center of the soma</span>
<span class="n">soma</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">v</span> <span class="o">=</span> <span class="o">-</span><span class="mi">65</span>  <span class="c1"># mV</span>

<span class="c1"># Set passive conductance at all segments of dend</span>
<span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">dend</span><span class="p">:</span>
    <span class="n">seg</span><span class="o">.</span><span class="n">g_pas</span> <span class="o">=</span> <span class="mf">0.001</span>  <span class="c1"># S/cm²</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="functions-objects-and-the-stack">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Functions, objects, and the stack</a><a class="headerlink" href="#functions-objects-and-the-stack" title="Link to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol">
<span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol" title="Link to this definition"></a><br /></dt>
<dd><p>Get a symbol by name from NEURON’s symbol table. Symbols represent variables,
functions, mechanisms, and other named entities in NEURON.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the symbol to lookup.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the Symbol object, or NULL if not found.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to access NEURON built-in functions, variables, and mechanisms by name.
Symbols only need to be looked up once; the returned pointer can be reused.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Access built-in NEURON functions</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">finitialize_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;finitialize&quot;</span><span class="p">);</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mf">-65.0</span><span class="p">);</span><span class="w">  </span><span class="c1">// Push voltage argument</span>
<span class="n">nrn_function_call</span><span class="p">(</span><span class="n">finitialize_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// Initialize membrane voltage</span>

<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">fadvance_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;fadvance&quot;</span><span class="p">);</span>
<span class="n">nrn_function_call</span><span class="p">(</span><span class="n">fadvance_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">  </span><span class="c1">// Advance simulation by one time step</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Access built-in NEURON functions</span>
<span class="n">n</span><span class="o">.</span><span class="n">finitialize</span><span class="p">(</span><span class="o">-</span><span class="mi">65</span><span class="p">)</span>  <span class="c1"># Initialize membrane voltage</span>
<span class="n">n</span><span class="o">.</span><span class="n">fadvance</span><span class="p">()</span>        <span class="c1"># Advance simulation by one time step</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_push">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_push</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_push" title="Link to this definition"></a><br /></dt>
<dd><p>Push a symbol onto the HOC execution stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Pointer to the symbol to push.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_type">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_type</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_type" title="Link to this definition"></a><br /></dt>
<dd><p>Get the type of a symbol (e.g., function, variable, mechanism).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Pointer to the symbol.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer representing the symbol type.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to determine what kind of entity a symbol represents before
performing type-specific operations. For example, the MATLAB interface
uses this as part of dynamically generating the interface.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_subtype">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_subtype</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_subtype" title="Link to this definition"></a><br /></dt>
<dd><p>Get the subtype of a symbol, providing more detailed classification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Pointer to the symbol.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer representing the symbol subtype.</p>
</dd>
</dl>
<p>The meanings of the symbol subtype code depends on the symbol type.
For example, <code class="docutils literal notranslate"><span class="pre">t</span></code> is a built-in double variable and has a different subtype
than a user-created double variable.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_dataptr">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_dataptr</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_dataptr" title="Link to this definition"></a><br /></dt>
<dd><p>Get a pointer to the data for a symbol (for variables).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Pointer to the symbol.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the symbol’s data, or NULL if not applicable.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Provides direct access to variable data for efficient reading/writing.
e.g., use this for getting/setting the value of <code class="docutils literal notranslate"><span class="pre">t</span></code> (time).</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_is_array">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_is_array</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_is_array" title="Link to this definition"></a><br /></dt>
<dd><p>Check if a symbol represents an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Pointer to the symbol.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if the symbol is an array, false otherwise.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to determine if special array access methods are needed.
For example, <a class="reference internal" href="progref/modelspec/programmatic/mechanisms/mech.html#VClamp" title="VClamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">VClamp</span></code></a> objects have an array of <code class="docutils literal notranslate"><span class="pre">amp</span></code> values.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_double_push">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_double_push</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">val</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_double_push" title="Link to this definition"></a><br /></dt>
<dd><p>Push a double value onto the NEURON execution stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> – Double value to push.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used when preparing arguments for function/method calls.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_double_pop">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_double_pop</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_double_pop" title="Link to this definition"></a><br /></dt>
<dd><p>Pop a double value from the NEURON stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Double value from the top of the stack.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to retrieve function/method return values.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_double_ptr_push">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_double_ptr_push</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">addr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_double_ptr_push" title="Link to this definition"></a><br /></dt>
<dd><p>Push a pointer to a double onto the stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> – Pointer to double to push.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for passing references to variables that can be modified by functions.
These pointers can be to variables from NEURON or to local variables.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_double_ptr_pop">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_double_ptr_pop</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_double_ptr_pop" title="Link to this definition"></a><br /></dt>
<dd><p>Pop a pointer to a double from the stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pointer to double from the top of the stack.</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using pointers risks dereferencing invalid memory if the pointer is not valid.
Prefer other strategies for memory safety.</p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_str_push">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_str_push</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_str_push" title="Link to this definition"></a><br /></dt>
<dd><p>Push a string onto the stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str</strong> – Pointer to string pointer to push.</p></li>
</ul>
</dd>
</dl>
<p><strong>C++ Usage:</strong></p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Load stdrun.hoc using the NEURON API</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;stdrun.hoc&quot;</span><span class="p">;</span>
<span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">cstr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">filename</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<span class="n">nrn_str_push</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cstr</span><span class="p">);</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">load_file_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;load_file&quot;</span><span class="p">);</span>
<span class="n">nrn_function_call</span><span class="p">(</span><span class="n">load_file_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load stdrun.hoc using the NEURON API (Python version)</span>
<span class="n">n</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="s2">&quot;stdrun.hoc&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_str_pop">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_str_pop</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_str_pop" title="Link to this definition"></a><br /></dt>
<dd><p>Pop a string from the stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pointer to string pointer from the top of the stack.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to retrieve function/method return values.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_int_push">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_int_push</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">i</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_int_push" title="Link to this definition"></a><br /></dt>
<dd><p>Push an integer onto the stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> – Integer value to push.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Most NEURON functions expect doubles not ints and may fail if an int is pushed instead.</p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_int_pop">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_int_pop</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_int_pop" title="Link to this definition"></a><br /></dt>
<dd><p>Pop an integer from the stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Integer value from the top of the stack.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to retrieve function/method return values.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Most NEURON functions when accessed through the API return doubles not ints and may fail if an int is pushed instead.
This is true even for functions that return an integer value in Python.</p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_object_push">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_object_push</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_object_push" title="Link to this definition"></a><br /></dt>
<dd><p>Push an object onto the stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to object to push.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used when passing objects as arguments to functions or methods.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_object_pop">
<span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_object_pop</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_object_pop" title="Link to this definition"></a><br /></dt>
<dd><p>Pop an object from the stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pointer to object from the top of the stack.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to retrieve function/method return values. Use <a class="reference internal" href="#c.nrn_stack_type" title="nrn_stack_type"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_stack_type()</span></code></a> to check the type
before popping, or use the type of the function/method to know the expected return type in
advance.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_stack_type">
<span class="n"><span class="pre">nrn_stack_types_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_stack_type</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_stack_type" title="Link to this definition"></a><br /></dt>
<dd><p>Get the type of the value on top of the stack without removing it.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Enumeration value indicating the stack top type.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for type checking before popping values to ensure correct handling.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#c.nrn_stack_type_name" title="nrn_stack_type_name"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_stack_type_name()</span></code></a>,
<a class="reference internal" href="#c.nrn_double_pop" title="nrn_double_pop"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_double_pop()</span></code></a>,
<a class="reference internal" href="#c.nrn_double_ptr_pop" title="nrn_double_ptr_pop"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_double_ptr_pop()</span></code></a>,
<a class="reference internal" href="#c.nrn_int_pop" title="nrn_int_pop"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_int_pop()</span></code></a>,
<a class="reference internal" href="#c.nrn_object_pop" title="nrn_object_pop"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_object_pop()</span></code></a>,
<a class="reference internal" href="#c.nrn_str_pop" title="nrn_str_pop"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_str_pop()</span></code></a></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_stack_type_name">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_stack_type_name</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">nrn_stack_types_t</span></span><span class="w"> </span><span class="n"><span class="pre">id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_stack_type_name" title="Link to this definition"></a><br /></dt>
<dd><p>Get the name of a stack type as a human-readable string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – Stack type enumeration value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String representation of the stack type.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_object_new">
<span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_object_new</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">narg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_object_new" title="Link to this definition"></a><br /></dt>
<dd><p>Create a new object instance of the type represented by the symbol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Symbol representing the object class/type.</p></li>
<li><p><strong>narg</strong> – Number of constructor arguments on the stack.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the newly created object.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to instantiate NEURON objects like <a class="reference internal" href="progref/programming/math/vector.html#Vector" title="Vector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vector</span></code></a>, <a class="reference internal" href="progref/modelspec/programmatic/network/netcon.html#NetCon" title="NetCon"><code class="xref py py-class docutils literal notranslate"><span class="pre">NetCon</span></code></a>, <a class="reference internal" href="progref/modelspec/programmatic/mechanisms/mech.html#SEClamp" title="SEClamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">SEClamp</span></code></a>, etc.
Constructor arguments must be pushed onto the stack before calling.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create NEURON Vector with 100 elements</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">vec_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;Vector&quot;</span><span class="p">);</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_new</span><span class="p">(</span><span class="n">vec_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// Create current clamp at soma</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">iclamp_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;IClamp&quot;</span><span class="p">);</span>
<span class="n">nrn_object_push</span><span class="p">((</span><span class="n">Object</span><span class="o">*</span><span class="p">)</span><span class="n">soma</span><span class="p">);</span><span class="w">  </span><span class="c1">// Push soma as object</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mf">0.0</span><span class="p">);</span><span class="w">            </span><span class="c1">// Push location (0.0)</span>
<span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">iclamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_new</span><span class="p">(</span><span class="n">iclamp_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create NEURON objects</span>
<span class="n">vec</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>           <span class="c1"># Vector with 100 elements</span>
<span class="n">iclamp</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">IClamp</span><span class="p">(</span><span class="n">soma</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>    <span class="c1"># Current clamp at soma</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_method_symbol">
<span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_method_symbol</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_method_symbol" title="Link to this definition"></a><br /></dt>
<dd><p>Get a method symbol from an object by name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
<li><p><strong>name</strong> – Name of the method to lookup.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the method symbol, or NULL if not found.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to access object methods dynamically; essential for method calls.
See <a class="reference internal" href="#c.nrn_method_call" title="nrn_method_call"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_method_call()</span></code></a> for an example.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_method_call">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_method_call</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">method_sym</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">narg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_method_call" title="Link to this definition"></a><br /></dt>
<dd><p>Call a method on a NEURON object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
<li><p><strong>method_sym</strong> – Symbol representing the method to call.</p></li>
<li><p><strong>narg</strong> – Number of arguments on the stack.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to invoke object methods. Arguments must be pushed onto the stack
before calling. Return values (if any) are left on the stack.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Resize vector to 200 elements</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">resize_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_symbol</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;resize&quot;</span><span class="p">);</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="n">nrn_method_call</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">resize_method</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">returned_obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_pop</span><span class="p">();</span>

<span class="c1">// Fill vector with zeros</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">fill_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_symbol</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fill&quot;</span><span class="p">);</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mf">0.0</span><span class="p">);</span>
<span class="n">nrn_method_call</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">fill_method</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">returned_obj2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_pop</span><span class="p">();</span>

<span class="c1">// Get vector size</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">size_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_symbol</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;size&quot;</span><span class="p">);</span>
<span class="n">nrn_method_call</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">size_method</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="kt">double</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_double_pop</span><span class="p">();</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vec</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>     <span class="c1"># Resize vector to 200 elements</span>
<span class="n">vec</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>         <span class="c1"># Fill vector with zeros</span>
<span class="n">length</span> <span class="o">=</span> <span class="n">vec</span><span class="o">.</span><span class="n">size</span><span class="p">()</span> <span class="c1"># Get vector size</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function raises a C++ exception on error which cannot be
caught in pure C. An exception-free variant for use in C is
<code class="xref py py-func docutils literal notranslate"><span class="pre">nrn_method_call_nothrow()</span></code>.</p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_function_call">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_function_call</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">narg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_function_call" title="Link to this definition"></a><br /></dt>
<dd><p>Call a function by symbol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Symbol representing the function to call.</p></li>
<li><p><strong>narg</strong> – Number of arguments on the stack.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to call global functions and built-in NEURON functions.
Arguments must be prepared on the stack before calling.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Call finitialize(-65)</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">finitialize_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;finitialize&quot;</span><span class="p">);</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mf">-65.0</span><span class="p">);</span><span class="w">  </span><span class="c1">// Push argument</span>
<span class="n">nrn_function_call</span><span class="p">(</span><span class="n">finitialize_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Call fadvance()</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">fadvance_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;fadvance&quot;</span><span class="p">);</span>
<span class="n">nrn_function_call</span><span class="p">(</span><span class="n">fadvance_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="o">.</span><span class="n">finitialize</span><span class="p">(</span><span class="o">-</span><span class="mi">65</span><span class="p">)</span>  <span class="c1"># Initialize membrane voltage</span>
<span class="n">n</span><span class="o">.</span><span class="n">fadvance</span><span class="p">()</span>        <span class="c1"># Advance simulation by one time step</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function raises a C++ exception on error which cannot be
caught in pure C. An exception-free variant for use in C is
<code class="xref py py-func docutils literal notranslate"><span class="pre">nrn_function_call_nothrow()</span></code>.</p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_method_call_nothrow">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_method_call_nothrow</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">method_sym</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">narg</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">error_msg</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">error_msg_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_method_call_nothrow" title="Link to this definition"></a><br /></dt>
<dd><p>Call a method on a NEURON object without throwing exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
<li><p><strong>method_sym</strong> – Symbol representing the method to call.</p></li>
<li><p><strong>narg</strong> – Number of arguments on the stack.</p></li>
<li><p><strong>error_msg</strong> – Buffer to store error message if call fails.</p></li>
<li><p><strong>error_msg_size</strong> – Size of the error message buffer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success, non-zero on error.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to invoke object methods with error handling. Arguments must be pushed onto the stack
before calling. Return values (if any) are left on the stack. Unlike <a class="reference internal" href="#c.nrn_method_call" title="nrn_method_call"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_method_call()</span></code></a>,
this function returns an error code instead of throwing exceptions, making it suitable for
use in pure C code or via <code class="docutils literal notranslate"><span class="pre">ctypes</span></code>.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="w"> </span><span class="n">error_buffer</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>

<span class="c1">// Resize vector to 200 elements</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">resize_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_symbol</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;resize&quot;</span><span class="p">);</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_call_nothrow</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">resize_method</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                                     </span><span class="n">error_buffer</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">error_buffer</span><span class="p">));</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Resize failed: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error_buffer</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">returned_obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_pop</span><span class="p">();</span>

<span class="c1">// Fill vector with zeros</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">fill_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_symbol</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fill&quot;</span><span class="p">);</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mf">0.0</span><span class="p">);</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_call_nothrow</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">fill_method</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                                 </span><span class="n">error_buffer</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">error_buffer</span><span class="p">));</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Fill failed: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error_buffer</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">returned_obj2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_pop</span><span class="p">();</span>

<span class="c1">// Get vector size</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">size_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_symbol</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;size&quot;</span><span class="p">);</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_call_nothrow</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">size_method</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                                 </span><span class="n">error_buffer</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">error_buffer</span><span class="p">));</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Size method failed: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error_buffer</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">double</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_double_pop</span><span class="p">();</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vec</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>     <span class="c1"># Resize vector to 200 elements</span>
<span class="n">vec</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>         <span class="c1"># Fill vector with zeros</span>
<span class="n">length</span> <span class="o">=</span> <span class="n">vec</span><span class="o">.</span><span class="n">size</span><span class="p">()</span> <span class="c1"># Get vector size</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_function_call_nothrow">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_function_call_nothrow</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">narg</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">error_msg</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">error_msg_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_function_call_nothrow" title="Link to this definition"></a><br /></dt>
<dd><p>Call a function by symbol without throwing exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Symbol representing the function to call.</p></li>
<li><p><strong>narg</strong> – Number of arguments on the stack.</p></li>
<li><p><strong>error_msg</strong> – Buffer to store error message if call fails.</p></li>
<li><p><strong>error_msg_size</strong> – Size of the error message buffer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success, non-zero on error.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to call global functions and built-in NEURON functions with error handling.
Arguments must be prepared on the stack before calling. Unlike <a class="reference internal" href="#c.nrn_function_call" title="nrn_function_call"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_function_call()</span></code></a>,
this function returns an error code instead of throwing exceptions, making it suitable for
use in pure C code or via <code class="docutils literal notranslate"><span class="pre">ctypes</span></code>.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="w"> </span><span class="n">error_buffer</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>

<span class="c1">// Call finitialize(-65)</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">finitialize_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;finitialize&quot;</span><span class="p">);</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mf">-65.0</span><span class="p">);</span><span class="w">  </span><span class="c1">// Push argument</span>
<span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_function_call_nothrow</span><span class="p">(</span><span class="n">finitialize_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                                       </span><span class="n">error_buffer</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">error_buffer</span><span class="p">));</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;finitialize failed: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error_buffer</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Call fadvance()</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">fadvance_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;fadvance&quot;</span><span class="p">);</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_function_call_nothrow</span><span class="p">(</span><span class="n">fadvance_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                                   </span><span class="n">error_buffer</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">error_buffer</span><span class="p">));</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fadvance failed: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error_buffer</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="o">.</span><span class="n">finitialize</span><span class="p">(</span><span class="o">-</span><span class="mi">65</span><span class="p">)</span>  <span class="c1"># Initialize membrane voltage</span>
<span class="n">n</span><span class="o">.</span><span class="n">fadvance</span><span class="p">()</span>        <span class="c1"># Advance simulation by one time step</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_object_ref">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_object_ref</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_object_ref" title="Link to this definition"></a><br /></dt>
<dd><p>Increment the reference count of an object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for memory management. When storing object pointers, increment
the reference count to prevent premature deletion. Decrement when done.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Objects are automatically deleted when their reference count reaches zero.
Always match <code class="docutils literal notranslate"><span class="pre">nrn_object_ref()</span></code> with a corresponding <code class="docutils literal notranslate"><span class="pre">nrn_object_unref()</span></code> call
to prevent memory leaks.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#c.nrn_object_unref" title="nrn_object_unref"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_object_unref()</span></code></a></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_object_unref">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_object_unref</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_object_unref" title="Link to this definition"></a><br /></dt>
<dd><p>Decrement the reference count of an object. When the count reaches zero,
the object is automatically deleted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for memory management. Always match with previous <code class="docutils literal notranslate"><span class="pre">nrn_object_ref()</span></code>
calls to prevent segmentation faults from premature deletion.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#c.nrn_object_ref" title="nrn_object_ref"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_object_ref()</span></code></a></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_class_name">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_class_name</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_class_name" title="Link to this definition"></a><br /></dt>
<dd><p>Get the class name of an object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String containing the class name.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for type identification, debugging, and polymorphic operations.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">class_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_class_name</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">class_name</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">hname</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;[&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_prop_exists">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_prop_exists</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_prop_exists" title="Link to this definition"></a><br /></dt>
<dd><p>Check if properties exist for an object. Properties might not exist if the object
is a point process that has not been placed into a Section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if the object has properties, false otherwise.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for validation before attempting property access operations (getting/setting).
Attempting to access properties (e.g., an <a class="reference internal" href="progref/modelspec/programmatic/mechanisms/mech.html#IClamp" title="IClamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">IClamp</span></code></a> object’s <code class="docutils literal notranslate"><span class="pre">amp</span></code>) of a point process
that has not been placed into a Section will result in a segmentation fault (so check with this
function first).</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_distance">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_distance</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec0</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">x0</span></span>, <span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec1</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">x1</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_distance" title="Link to this definition"></a><br /></dt>
<dd><p>Compute the distance between two points in potentially different sections along the neuron.
This calculates the path length through the dendritic tree between the specified points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sec0</strong> – Pointer to the first Section.</p></li>
<li><p><strong>x0</strong> – Normalized position in first Section (0.0 to 1.0).</p></li>
<li><p><strong>sec1</strong> – Pointer to the second Section.</p></li>
<li><p><strong>x1</strong> – Normalized position in second Section (0.0 to 1.0).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance in microns along the morphological path.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for spatial analysis, determining non-uniform ion channel conductances (e.g., in
CA1 Pyramidal neurons the A current might increase with distance from the soma),
calculating electrotonic distance, or determining
the morphological distance between synapses and recording sites.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Calculate distance from soma center to dendrite tip</span>
<span class="kt">double</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_distance</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="n">dendrite</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate distance from soma center to dendrite tip</span>
<span class="n">dist</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">soma</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span> <span class="n">dendrite</span><span class="p">(</span><span class="mf">1.0</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function exists to avoid having to set a global reference point when using
<a class="reference internal" href="progref/modelspec/programmatic/topology/geometry.html#distance" title="distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">distance()</span></code></a>.</p>
</div>
</dd></dl>

</section>
<section id="shape-plot">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Shape Plot</a><a class="headerlink" href="#shape-plot" title="Link to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_get_plotshape_interface">
<span class="n"><span class="pre">ShapePlotInterface</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_get_plotshape_interface</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ps</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_get_plotshape_interface" title="Link to this definition"></a><br /></dt>
<dd><p>Get the shape plot interface from a PlotShape object. This provides access
to the internal plotting data and configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ps</strong> – Pointer to a PlotShape object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the ShapePlotInterface.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used by plotting functions to extract morphological and variable
data for visualization. The specific data may be queried with other functions,
described below.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">plotshape_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;PlotShape&quot;</span><span class="p">);</span>
<span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">ps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_new</span><span class="p">(</span><span class="n">plotshape_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>

<span class="c1">// Set variable to plot</span>
<span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="w"> </span><span class="n">var_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;v&quot;</span><span class="p">;</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">variable_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_symbol</span><span class="p">(</span><span class="n">ps</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;variable&quot;</span><span class="p">);</span>
<span class="n">nrn_str_push</span><span class="p">((</span><span class="kt">char</span><span class="o">**</span><span class="p">)</span><span class="o">&amp;</span><span class="n">var_name</span><span class="p">);</span>
<span class="n">nrn_method_call</span><span class="p">(</span><span class="n">ps</span><span class="p">,</span><span class="w"> </span><span class="n">variable_method</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// Extract plot data</span>
<span class="n">ShapePlotInterface</span><span class="o">*</span><span class="w"> </span><span class="n">spi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_get_plotshape_interface</span><span class="p">(</span><span class="n">ps</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ps</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">PlotShape</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">ps</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;v&#39;</span><span class="p">)</span>     <span class="c1"># Set variable to plot</span>
<span class="c1"># Data extraction would need custom implementation</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_get_plotshape_section_list">
<span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_get_plotshape_section_list</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ShapePlotInterface</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">spi</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_get_plotshape_section_list" title="Link to this definition"></a><br /></dt>
<dd><p>Get the Section list from a shape plot interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spi</strong> – Pointer to the ShapePlotInterface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the Object representing the Section list.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#c.nrn_sectionlist_data" title="nrn_sectionlist_data"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_sectionlist_data()</span></code></a></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_get_plotshape_varname">
<span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_get_plotshape_varname</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ShapePlotInterface</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">spi</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_get_plotshape_varname" title="Link to this definition"></a><br /></dt>
<dd><p>Get the variable name used in a shape plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spi</strong> – Pointer to the ShapePlotInterface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String containing the variable name.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_get_plotshape_low">
<span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_get_plotshape_low</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ShapePlotInterface</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">spi</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_get_plotshape_low" title="Link to this definition"></a><br /></dt>
<dd><p>Get the lower bound for color scaling in a shape plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spi</strong> – Pointer to the ShapePlotInterface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Lower bound value for color mapping.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_get_plotshape_high">
<span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_get_plotshape_high</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ShapePlotInterface</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">spi</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_get_plotshape_high" title="Link to this definition"></a><br /></dt>
<dd><p>Get the upper bound for color scaling in a shape plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spi</strong> – Pointer to the ShapePlotInterface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Upper bound value for color mapping.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="miscellaneous">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Miscellaneous</a><a class="headerlink" href="#miscellaneous" title="Link to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_hoc_call">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_hoc_call</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">command</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_hoc_call" title="Link to this definition"></a><br /></dt>
<dd><p>Execute a HOC command string. HOC is NEURON’s built-in scripting language.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> – Null-terminated string containing the HOC command.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Status code</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Provides a way to execute arbitrary NEURON/HOC commands from C code.
Useful for operations not directly exposed through the C API.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrn_hoc_call</span><span class="p">(</span><span class="s">&quot;topology()&quot;</span><span class="p">);</span><span class="w">           </span><span class="c1">// Display topology</span>
<span class="n">nrn_hoc_call</span><span class="p">(</span><span class="s">&quot;forall psection()&quot;</span><span class="p">);</span><span class="w">    </span><span class="c1">// Print all sections</span>
<span class="n">nrn_hoc_call</span><span class="p">(</span><span class="s">&quot;celsius = 37&quot;</span><span class="p">);</span><span class="w">         </span><span class="c1">// Set temperature</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="p">(</span><span class="s1">&#39;topology()&#39;</span><span class="p">)</span>           <span class="c1"># Display topology</span>
<span class="n">n</span><span class="p">(</span><span class="s1">&#39;forall psection()&#39;</span><span class="p">)</span>    <span class="c1"># Print all sections</span>
<span class="n">n</span><span class="o">.</span><span class="n">celsius</span> <span class="o">=</span> <span class="mi">37</span>            <span class="c1"># Set temperature</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When constructing language bindings for NEURON, support for <code class="docutils literal notranslate"><span class="pre">nrn_hoc_call</span></code> is an
important function, because it allows you to see the effects of each newly added
feature and it provides a validation comparison.</p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_sectionlist_iterator_new">
<span class="n"><span class="pre">SectionListIterator</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_sectionlist_iterator_new</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">nrn_Item</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">my_sectionlist</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_sectionlist_iterator_new" title="Link to this definition"></a><br /></dt>
<dd><p>Create a new Section list iterator for traversing a list of sections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>my_sectionlist</strong> – Pointer to the Section list data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the new SectionListIterator.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to iterate over collections of sections efficiently. Essential for
operations that need to process all sections or subsets.</p>
<p>See <a class="reference internal" href="#c.nrn_allsec" title="nrn_allsec"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_allsec()</span></code></a> for an example of iterating over all sections.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_sectionlist_iterator_free">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_sectionlist_iterator_free</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SectionListIterator</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sl</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_sectionlist_iterator_free" title="Link to this definition"></a><br /></dt>
<dd><p>Free a Section list iterator and release associated resources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sl</strong> – Pointer to the SectionListIterator to free.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Always call after finishing Section list iteration to prevent memory leaks.</p>
<p>See <a class="reference internal" href="#c.nrn_allsec" title="nrn_allsec"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_allsec()</span></code></a> for an example of iterating over all sections.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_sectionlist_iterator_next">
<span class="n"><span class="pre">Section</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_sectionlist_iterator_next</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SectionListIterator</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sl</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_sectionlist_iterator_next" title="Link to this definition"></a><br /></dt>
<dd><p>Get the next Section from a Section list iterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sl</strong> – Pointer to the SectionListIterator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the next Section.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used in loops to process each Section in a list sequentially.</p>
<p>Before calling, check with <a class="reference internal" href="#c.nrn_sectionlist_iterator_done" title="nrn_sectionlist_iterator_done"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_sectionlist_iterator_done()</span></code></a> to ensure
there are more sections to process.</p>
<p>See <a class="reference internal" href="#c.nrn_allsec" title="nrn_allsec"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_allsec()</span></code></a> for an example of iterating over all sections.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_sectionlist_iterator_done">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_sectionlist_iterator_done</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SectionListIterator</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sl</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_sectionlist_iterator_done" title="Link to this definition"></a><br /></dt>
<dd><p>Check if the Section list iterator has finished iterating.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sl</strong> – Pointer to the SectionListIterator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Non-zero if iteration is complete, 0 otherwise.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used as a loop termination condition.</p>
<p><strong>Example iteration pattern:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">SectionListIterator</span><span class="o">*</span><span class="w"> </span><span class="n">iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_sectionlist_iterator_new</span><span class="p">(</span><span class="n">section_list</span><span class="p">);</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">nrn_sectionlist_iterator_done</span><span class="p">(</span><span class="n">iter</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Section</span><span class="o">*</span><span class="w"> </span><span class="n">sec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_sectionlist_iterator_next</span><span class="p">(</span><span class="n">iter</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Process Section</span>
<span class="p">}</span>
<span class="n">nrn_sectionlist_iterator_free</span><span class="p">(</span><span class="n">iter</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_table_iterator_new">
<span class="n"><span class="pre">SymbolTableIterator</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_table_iterator_new</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Symlist</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">my_symbol_table</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_table_iterator_new" title="Link to this definition"></a><br /></dt>
<dd><p>Create a new symbol table iterator for traversing symbols.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>my_symbol_table</strong> – Pointer to the symbol table.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the new SymbolTableIterator.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to iterate over NEURON’s symbol tables to discover available
functions, variables, and mechanisms. This allows language bindings to dynamically
discover the NEURON interface, including user-defined functions added during runtime.</p>
<p><strong>C++ Usage:</strong></p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Retrieve the global and top-level symbol tables</span>
<span class="k">auto</span><span class="w"> </span><span class="n">global_symtable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_global_symbol_table</span><span class="p">();</span>
<span class="k">auto</span><span class="w"> </span><span class="n">top_level_symtable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_top_level_symbol_table</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>

<span class="c1">// Iterate over both symbol tables</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">symtable</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="n">global_symtable</span><span class="p">,</span><span class="w"> </span><span class="n">top_level_symtable</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Create an iterator for the current symbol table</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol_table_iterator_new</span><span class="p">(</span><span class="n">symtable</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Loop through all symbols in the table</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">nrn_symbol_table_iterator_done</span><span class="p">(</span><span class="n">iter</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Get symbol</span>
<span class="w">        </span><span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol_table_iterator_next</span><span class="p">(</span><span class="n">iter</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Retrieve the symbol name and its type/subtype</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol_name</span><span class="p">(</span><span class="n">sym</span><span class="p">);</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol_type</span><span class="p">(</span><span class="n">sym</span><span class="p">);</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol_subtype</span><span class="p">(</span><span class="n">sym</span><span class="p">);</span>

<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Symbol: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">name</span>
<span class="w">                </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, Type: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">type</span>
<span class="w">                </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, Subtype: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">subtype</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Free the iterator after use</span>
<span class="w">    </span><span class="n">nrn_symbol_table_iterator_free</span><span class="p">(</span><span class="n">iter</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#c.nrn_global_symbol_table" title="nrn_global_symbol_table"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_global_symbol_table()</span></code></a>, <a class="reference internal" href="#c.nrn_top_level_symbol_table" title="nrn_top_level_symbol_table"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_top_level_symbol_table()</span></code></a></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_table_iterator_free">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_table_iterator_free</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SymbolTableIterator</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">st</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_table_iterator_free" title="Link to this definition"></a><br /></dt>
<dd><p>Free a symbol table iterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> – Pointer to the SymbolTableIterator to free.</p></li>
</ul>
</dd>
</dl>
<p>See <a class="reference internal" href="#c.nrn_symbol_table_iterator_new" title="nrn_symbol_table_iterator_new"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_symbol_table_iterator_new()</span></code></a> for example usage.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_table_iterator_next">
<span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_table_iterator_next</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SymbolTableIterator</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">st</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_table_iterator_next" title="Link to this definition"></a><br /></dt>
<dd><p>Get the next symbol from a symbol table iterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> – Pointer to the SymbolTableIterator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the next Symbol.</p>
</dd>
</dl>
<p>Be sure to check with <a class="reference internal" href="#c.nrn_symbol_table_iterator_done" title="nrn_symbol_table_iterator_done"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_symbol_table_iterator_done()</span></code></a> before calling;
this does not return NULL when done.</p>
<p>See <a class="reference internal" href="#c.nrn_symbol_table_iterator_new" title="nrn_symbol_table_iterator_new"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_symbol_table_iterator_new()</span></code></a> for example usage.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_table_iterator_done">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_table_iterator_done</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SymbolTableIterator</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">st</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_table_iterator_done" title="Link to this definition"></a><br /></dt>
<dd><p>Check if the symbol table iterator has finished iterating.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> – Pointer to the SymbolTableIterator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Non-zero if iteration is complete, 0 otherwise.</p>
</dd>
</dl>
<p>See <a class="reference internal" href="#c.nrn_symbol_table_iterator_new" title="nrn_symbol_table_iterator_new"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_symbol_table_iterator_new()</span></code></a> for example usage.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_vector_capacity">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_vector_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">vec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_vector_capacity" title="Link to this definition"></a><br /></dt>
<dd><p>Get the capacity (allocated size) of a vector object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vec</strong> – Pointer to the Vector object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Capacity of the vector.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for memory management and optimization when working with vectors.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_vector_data">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_vector_data</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">vec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_vector_data" title="Link to this definition"></a><br /></dt>
<dd><p>Get direct access to the data array of a vector object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vec</strong> – Pointer to the Vector object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the internal data array.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Provides efficient access to vector data for bulk operations without
going through the object interface.</p>
<p>In language bindings, it may be possible to use this pointer to create
a more native view into the data (e.g., in Python, a numpy array can be
initialized from a pointer and a size, so the numpy array can directly
be used to work with the Vector’s data).</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">vec_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_vector_data</span><span class="p">(</span><span class="n">vec</span><span class="p">);</span><span class="w">  </span><span class="c1">// Get vector data pointer</span>

<span class="c1">// directly access elements</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">vec_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span><span class="w">  </span><span class="c1">// Set values</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_property_get">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_property_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_property_get" title="Link to this definition"></a><br /></dt>
<dd><p>Get a property value from an object by name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
<li><p><strong>name</strong> – Name of the property.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Value of the property.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to read object properties dynamically by name. Essential for
generic property access.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">amp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_property_get</span><span class="p">(</span><span class="n">iclamp</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;amp&quot;</span><span class="p">);</span><span class="w">      </span><span class="c1">// Get current clamp amplitude</span>
<span class="kt">double</span><span class="w"> </span><span class="n">dur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_property_get</span><span class="p">(</span><span class="n">iclamp</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;dur&quot;</span><span class="p">);</span><span class="w">      </span><span class="c1">// Get current clamp duration</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">amp</span> <span class="o">=</span> <span class="n">iclamp</span><span class="o">.</span><span class="n">amp</span>      <span class="c1"># Get current clamp amplitude</span>
<span class="n">dur</span> <span class="o">=</span> <span class="n">iclamp</span><span class="o">.</span><span class="n">dur</span>      <span class="c1"># Get current clamp duration</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_property_array_get">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_property_array_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">i</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_property_array_get" title="Link to this definition"></a><br /></dt>
<dd><p>Get a value from a property array by index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
<li><p><strong>name</strong> – Name of the property array.</p></li>
<li><p><strong>i</strong> – Index into the array (0-based).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Value at the specified index.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for properties that are arrays.</p>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">amp0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_property_array_get</span><span class="p">(</span><span class="n">vclamp</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;amp&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">  </span><span class="c1">// Get first amplitude</span>
<span class="kt">double</span><span class="w"> </span><span class="n">amp1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_property_array_get</span><span class="p">(</span><span class="n">vclamp</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;amp&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// Get second amplitude</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">amp0</span> <span class="o">=</span> <span class="n">vclamp</span><span class="o">.</span><span class="n">amp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Get first amplitude</span>
<span class="n">amp1</span> <span class="o">=</span> <span class="n">vclamp</span><span class="o">.</span><span class="n">amp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Get second amplitude</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_property_set">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_property_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_property_set" title="Link to this definition"></a><br /></dt>
<dd><p>Set a property value on an object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
<li><p><strong>name</strong> – Name of the property.</p></li>
<li><p><strong>value</strong> – Value to set.</p></li>
</ul>
</dd>
</dl>
<p><strong>C Usage:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrn_property_set</span><span class="p">(</span><span class="n">iclamp</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;amp&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">);</span><span class="w">      </span><span class="c1">// Set current amplitude to 0.1 nA</span>
<span class="n">nrn_property_set</span><span class="p">(</span><span class="n">iclamp</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;del&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">100.0</span><span class="p">);</span><span class="w">    </span><span class="c1">// Set delay to 100 ms</span>
</pre></div>
</div>
<p><strong>Python Equivalent:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">iclamp</span><span class="o">.</span><span class="n">amp</span> <span class="o">=</span> <span class="mf">0.1</span>      <span class="c1"># Set current amplitude to 0.1 nA</span>
<span class="n">iclamp</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="mi">100</span>    <span class="c1"># Set delay to 100 ms</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_property_array_set">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_property_array_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">i</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_property_array_set" title="Link to this definition"></a><br /></dt>
<dd><p>Set a value in a property array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
<li><p><strong>name</strong> – Name of the property array.</p></li>
<li><p><strong>i</strong> – Index into the array (0-based).</p></li>
<li><p><strong>value</strong> – Value to set at the specified index.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_property_push">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_property_push</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_property_push" title="Link to this definition"></a><br /></dt>
<dd><p>Push a property value onto the NEURON stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
<li><p><strong>name</strong> – Name of the property.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>This allows the equivalent of the Python <code class="docutils literal notranslate"><span class="pre">vec.play(iclamp._ref_amp,</span> <span class="pre">tvec,</span> <span class="pre">True)</span></code> which
is how NEURON can implement non-square-wave current clamps. Here <code class="docutils literal notranslate"><span class="pre">iclamp._ref_amp</span></code> is a reference
to the <code class="docutils literal notranslate"><span class="pre">amp</span></code> property of the <code class="docutils literal notranslate"><span class="pre">IClamp</span></code> object.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_property_array_push">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_property_array_push</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">i</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_property_array_push" title="Link to this definition"></a><br /></dt>
<dd><p>Push a property array element onto the NEURON stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Pointer to the object.</p></li>
<li><p><strong>name</strong> – Name of the property array.</p></li>
<li><p><strong>i</strong> – Index into the array (0-based).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_name">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_name</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_name" title="Link to this definition"></a><br /></dt>
<dd><p>Get the name of a symbol as a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Pointer to the symbol.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String containing the symbol name.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used for debugging, introspection, and dynamic symbol handling.</p>
<p>See <a class="reference internal" href="#c.nrn_symbol_table_iterator_new" title="nrn_symbol_table_iterator_new"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_symbol_table_iterator_new()</span></code></a> for an example of iterating over symbols,
which uses this function to get the symbol names.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_table">
<span class="n"><span class="pre">Symlist</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_table</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_table" title="Link to this definition"></a><br /></dt>
<dd><p>Get the symbol table that contains a symbol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Pointer to the symbol.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the containing symbol table.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_global_symbol_table">
<span class="n"><span class="pre">Symlist</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_global_symbol_table</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_global_symbol_table" title="Link to this definition"></a><br /></dt>
<dd><p>Get the global symbol table containing built-in NEURON functions and variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pointer to the global symbol table.</p>
</dd>
</dl>
<p>See <a class="reference internal" href="#c.nrn_symbol_table_iterator_new" title="nrn_symbol_table_iterator_new"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_symbol_table_iterator_new()</span></code></a> for an example of iterating over the
global symbol table.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_top_level_symbol_table">
<span class="n"><span class="pre">Symlist</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_top_level_symbol_table</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_top_level_symbol_table" title="Link to this definition"></a><br /></dt>
<dd><p>Get the top-level symbol table containing user-defined symbols.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pointer to the top-level symbol table.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_symbol_array_length">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_symbol_array_length</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Symbol</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sym</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_symbol_array_length" title="Link to this definition"></a><br /></dt>
<dd><p>Get the length of a symbol array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> – Pointer to the symbol.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Length of the array, or 1 for non-arrays.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_register_function">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_register_function</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">proc</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">func_name</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_register_function" title="Link to this definition"></a><br /></dt>
<dd><p>Register a C function to be callable from NEURON/HOC.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>proc</strong> – Pointer to the C function.</p></li>
<li><p><strong>func_name</strong> – Name by which the function will be known in NEURON.</p></li>
<li><p><strong>type</strong> – Function type identifier.</p></li>
</ul>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to extend NEURON with custom C functions that can be called
from HOC; for example, the MATLAB interface uses this to provide an <code class="docutils literal notranslate"><span class="pre">nrn_matlab</span></code>
function to HOC. Furtherore, this allows callback functions into a language binding,
allowing, for example, callbacks in <a class="reference internal" href="progref/simctrl/cvode.html#CVode.event" title="CVode.event"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CVode.event()</span></code></a> or <a class="reference internal" href="progref/simctrl/programmatic.html#FInitializeHandler" title="FInitializeHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">FInitializeHandler</span></code></a>.</p>
<p>The function should end by calling <a class="reference internal" href="#c.nrn_hoc_ret" title="nrn_hoc_ret"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_hoc_ret()</span></code></a> and pushing its result to the stack.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_hoc_ret">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_hoc_ret</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_hoc_ret" title="Link to this definition"></a><br /></dt>
<dd><p>Return from a HOC function call.</p>
<p><strong>Usage Pattern:</strong></p>
<p>Used in custom functions registered with <a class="reference internal" href="#c.nrn_register_function" title="nrn_register_function"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_register_function()</span></code></a>
to signal completion of execution.</p>
</dd></dl>

</section>
<section id="parameter-reading-functions">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Parameter-reading functions</a><a class="headerlink" href="#parameter-reading-functions" title="Link to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_objgetarg">
<span class="n"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_objgetarg</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">arg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_objgetarg" title="Link to this definition"></a><br /></dt>
<dd><p>Get an object argument from the NEURON stack during function execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> – Argument index (1-indexed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to pointer to the object argument.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used in custom functions registered with NEURON to access object
arguments passed from NEURON/HOC.</p>
<p>If it is not known that there is an argument at the specified index,
use <a class="reference internal" href="#c.nrn_ifarg" title="nrn_ifarg"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_ifarg()</span></code></a> to check before calling this function.</p>
<p>If the type of the argument is not known in advance, use
<a class="reference internal" href="#c.nrn_is_object_arg" title="nrn_is_object_arg"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_is_object_arg()</span></code></a> to check before calling this function.</p>
<p><strong>Example:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// In a custom function</span>
<span class="n">Object</span><span class="o">**</span><span class="w"> </span><span class="n">obj_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_objgetarg</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// Get first object argument</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">obj_ptr</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">*</span><span class="n">obj_ptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Use the object</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_gargstr">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_gargstr</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">arg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_gargstr" title="Link to this definition"></a><br /></dt>
<dd><p>Get a string argument from the NEURON stack during function execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> – Argument index (1-indexed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the string argument.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used in custom functions registered with NEURON to access string
arguments passed from NEURON/HOC.</p>
<p>If it is not known that there is an argument at the specified index,
use <a class="reference internal" href="#c.nrn_ifarg" title="nrn_ifarg"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_ifarg()</span></code></a> to check before calling this function.</p>
<p>If the type of the argument is not known in advance, use
<a class="reference internal" href="#c.nrn_is_str_arg" title="nrn_is_str_arg"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_is_str_arg()</span></code></a> to check before calling this function.</p>
<p><strong>Example:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_gargstr</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// Get first string argument</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_getarg">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_getarg</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">arg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_getarg" title="Link to this definition"></a><br /></dt>
<dd><p>Get a double argument from the NEURON stack during function execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> – Argument index (1-indexed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the double argument.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used in custom functions registered with NEURON to access double
arguments passed from NEURON/HOC.</p>
<p>If it is not known that there is an argument at the specified index,
use <a class="reference internal" href="#c.nrn_ifarg" title="nrn_ifarg"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_ifarg()</span></code></a> to check before calling this function.</p>
<p>If the type of the argument is not known in advance, use
<a class="reference internal" href="#c.nrn_is_double_arg" title="nrn_is_double_arg"><code class="xref c c-func docutils literal notranslate"><span class="pre">nrn_is_double_arg()</span></code></a> to check before calling this function.</p>
<p><strong>Example:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">nrn_getarg</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// Get first double argument</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_obj_file_arg">
<span class="n"><span class="pre">FILE</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">nrn_obj_file_arg</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">i</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_obj_file_arg" title="Link to this definition"></a><br /></dt>
<dd><p>Get a file argument from the HOC stack during function execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> – Argument index (1-indexed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the FILE object.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used when custom functions need to work with file objects passed
from NEURON/HOC.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_ifarg">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_ifarg</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">arg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_ifarg" title="Link to this definition"></a><br /></dt>
<dd><p>Check if an argument exists at the specified position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> – Argument index (1-indexed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if argument exists, false otherwise.</p>
</dd>
</dl>
<p><strong>Usage Pattern:</strong></p>
<p>Used to implement optional parameters in custom functions.</p>
<p><strong>Example:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nrn_ifarg</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Second argument was provided</span>
<span class="w">    </span><span class="n">optional_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">nrn_getarg</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Use default value</span>
<span class="w">    </span><span class="n">optional_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">default_value</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_is_object_arg">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_is_object_arg</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">arg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_is_object_arg" title="Link to this definition"></a><br /></dt>
<dd><p>Check if an argument is an object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> – Argument index (1-indexed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if argument is an object, false otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_is_str_arg">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_is_str_arg</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">arg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_is_str_arg" title="Link to this definition"></a><br /></dt>
<dd><p>Check if an argument is a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> – Argument index (1-indexed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if argument is a string, false otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_is_double_arg">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_is_double_arg</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">arg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_is_double_arg" title="Link to this definition"></a><br /></dt>
<dd><p>Check if an argument is a double.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> – Argument index (1-indexed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if argument is a double, false otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.nrn_is_pdouble_arg">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrn_is_pdouble_arg</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">arg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.nrn_is_pdouble_arg" title="Link to this definition"></a><br /></dt>
<dd><p>Check if an argument is a pointer to double (reference parameter).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> – Argument index (1-indexed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if argument is a pointer to double, false otherwise.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="common-usage-patterns">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Common Usage Patterns</a><a class="headerlink" href="#common-usage-patterns" title="Link to this heading"></a></h2>
<section id="creating-and-connecting-sections">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Creating and Connecting Sections:</a><a class="headerlink" href="#creating-and-connecting-sections" title="Link to this heading"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create sections</span>
<span class="n">Section</span><span class="o">*</span><span class="w"> </span><span class="n">soma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_section_new</span><span class="p">(</span><span class="s">&quot;soma&quot;</span><span class="p">);</span>
<span class="n">Section</span><span class="o">*</span><span class="w"> </span><span class="n">dendrite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_section_new</span><span class="p">(</span><span class="s">&quot;dendrite&quot;</span><span class="p">);</span>

<span class="c1">// Set properties</span>
<span class="n">nrn_section_length_set</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">20.0</span><span class="p">);</span><span class="w">     </span><span class="c1">// 20 μm</span>
<span class="n">nrn_section_length_set</span><span class="p">(</span><span class="n">dendrite</span><span class="p">,</span><span class="w"> </span><span class="mf">100.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// 100 μm</span>

<span class="c1">// Connect dendrite to soma</span>
<span class="n">nrn_section_connect</span><span class="p">(</span><span class="n">dendrite</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="working-with-objects-and-methods">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Working with Objects and Methods:</a><a class="headerlink" href="#working-with-objects-and-methods" title="Link to this heading"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Get Vector class symbol</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">vec_sym</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;Vector&quot;</span><span class="p">);</span>

<span class="c1">// Create Vector with 100 elements</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_new</span><span class="p">(</span><span class="n">vec_sym</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// Call Vector.fill(0)</span>
<span class="n">Symbol</span><span class="o">*</span><span class="w"> </span><span class="n">fill_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_method_symbol</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fill&quot;</span><span class="p">);</span>
<span class="n">nrn_double_push</span><span class="p">(</span><span class="mf">0.0</span><span class="p">);</span>
<span class="n">nrn_method_call</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">fill_method</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="memory-management">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Memory Management:</a><a class="headerlink" href="#memory-management" title="Link to this heading"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// When storing object pointers</span>
<span class="n">nrn_object_ref</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span><span class="w">    </span><span class="c1">// Increment reference count</span>

<span class="c1">// When done with object</span>
<span class="n">nrn_object_unref</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span><span class="w">  </span><span class="c1">// Decrement reference count</span>
</pre></div>
</div>
</section>
</section>
<section id="runnable-example-with-compilation-instructions">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Runnable example with compilation instructions</a><a class="headerlink" href="#runnable-example-with-compilation-instructions" title="Link to this heading"></a></h2>
<section id="a-hodgkin-huxley-neuron-simulation-in-c-17">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">A Hodgkin-Huxley NEURON simulation in C++17</a><a class="headerlink" href="#a-hodgkin-huxley-neuron-simulation-in-c-17" title="Link to this heading"></a></h3>
<p>Here we stimulate the cell with a <a class="reference internal" href="progref/modelspec/programmatic/mechanisms/mech.html#IClamp" title="IClamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">IClamp</span></code></a> at time 1 ms.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;neuronapi.h&quot;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;array&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstring&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="p">;</span>

<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">modl_reg</span><span class="p">(){</span><span class="cm">/* No modl_reg */</span><span class="p">};</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="o">&gt;</span><span class="w"> </span><span class="n">argv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;hh_sim&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-nogui&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-nopython&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">};</span>
<span class="w">    </span><span class="n">nrn_init</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">.</span><span class="n">data</span><span class="p">());</span>

<span class="w">    </span><span class="c1">// load the stdrun library</span>
<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">temp_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strdup</span><span class="p">(</span><span class="s">&quot;stdrun.hoc&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_str_push</span><span class="p">(</span><span class="o">&amp;</span><span class="n">temp_str</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_function_call</span><span class="p">(</span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;load_file&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_double_pop</span><span class="p">();</span>
<span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">temp_str</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// topology</span>
<span class="w">    </span><span class="n">Section</span><span class="o">*</span><span class="w"> </span><span class="n">soma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_section_new</span><span class="p">(</span><span class="s">&quot;soma&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_nseg_set</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// define soma morphology with two 3d points</span>
<span class="w">    </span><span class="n">nrn_section_push</span><span class="p">(</span><span class="n">soma</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">nrn_double_push</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">nrn_function_call</span><span class="p">(</span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;pt3dadd&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_double_pop</span><span class="p">();</span><span class="w">  </span><span class="c1">// pt3dadd returns a number</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">nrn_double_push</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">nrn_function_call</span><span class="p">(</span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;pt3dadd&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_double_pop</span><span class="p">();</span><span class="w">  </span><span class="c1">// pt3dadd returns a number</span>

<span class="w">    </span><span class="c1">// ion channels</span>
<span class="w">    </span><span class="n">nrn_mechanism_insert</span><span class="p">(</span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;hh&quot;</span><span class="p">));</span>

<span class="w">    </span><span class="c1">// current clamp at soma(0.5)</span>
<span class="w">    </span><span class="n">nrn_double_push</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
<span class="w">    </span><span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">iclamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_new</span><span class="p">(</span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;IClamp&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="p">[</span><span class="n">property</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="n">pair</span><span class="p">{</span><span class="s">&quot;amp&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">},</span><span class="w"> </span><span class="n">pair</span><span class="p">{</span><span class="s">&quot;del&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">},</span><span class="w"> </span><span class="n">pair</span><span class="p">{</span><span class="s">&quot;dur&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">}})</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">nrn_property_set</span><span class="p">(</span><span class="n">iclamp</span><span class="p">,</span><span class="w"> </span><span class="n">property</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// setup recording</span>
<span class="w">    </span><span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_new</span><span class="p">(</span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;Vector&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_rangevar_push</span><span class="p">(</span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;v&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">soma</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_method_call</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">nrn_method_symbol</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;record&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_object_unref</span><span class="p">(</span><span class="n">nrn_object_pop</span><span class="p">());</span><span class="w">  </span><span class="c1">// record returns the vector</span>

<span class="w">    </span><span class="n">Object</span><span class="o">*</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_object_new</span><span class="p">(</span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;Vector&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_double_ptr_push</span><span class="p">(</span><span class="n">nrn_symbol_dataptr</span><span class="p">(</span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;t&quot;</span><span class="p">)));</span>
<span class="w">    </span><span class="n">nrn_method_call</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">nrn_method_symbol</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;record&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_object_unref</span><span class="p">(</span><span class="n">nrn_object_pop</span><span class="p">());</span><span class="w">  </span><span class="c1">// record returns the vector</span>


<span class="w">    </span><span class="c1">// finitialize(-65)</span>
<span class="w">    </span><span class="n">nrn_double_push</span><span class="p">(</span><span class="mi">-65</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_function_call</span><span class="p">(</span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;finitialize&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_double_pop</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// continuerun(5)</span>
<span class="w">    </span><span class="n">nrn_double_push</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_function_call</span><span class="p">(</span><span class="n">nrn_symbol</span><span class="p">(</span><span class="s">&quot;continuerun&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">nrn_double_pop</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Print CSV output: time, voltage</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_points</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_vector_capacity</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
<span class="w">    </span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">t_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_vector_data</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
<span class="w">    </span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">v_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nrn_vector_data</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>

<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;time,voltage&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n_points</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">t_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">v_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="to-compile-on-macos-or-linux">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">To compile on macOS or Linux</a><a class="headerlink" href="#to-compile-on-macos-or-linux" title="Link to this heading"></a></h3>
<p>Define a couple of environment variables to indicate where the libraries, include files, etc are.
The following assumes that NEURON was installed via <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">neuron</span></code>. If you installed NEURON
some other way, this may need modification.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">MYNEURONHOME</span><span class="o">=</span><span class="k">$(</span>python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import neuron, os; print(os.path.dirname(neuron.__file__) + &#39;/&#39;)&quot;</span><span class="k">)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">NEURONHOME</span><span class="o">=</span><span class="nv">$MYNEURONHOME</span>/.data/share/nrn
</pre></div>
</div>
<p>(While <code class="docutils literal notranslate"><span class="pre">NEURONHOME</span></code> is not explicitly used below, it is implicitly used by NEURON to locate its
library functions; in this case, we need it to find the file <code class="file docutils literal notranslate"><span class="pre">stdrun.hoc</span></code>.)</p>
<p>Now to compile, assuming the above code was saved as a file called <code class="docutils literal notranslate"><span class="pre">hh_sim.cpp</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>g++<span class="w"> </span>-std<span class="o">=</span>c++17<span class="w"> </span>hh_sim.cpp<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-I<span class="nv">$MYNEURONHOME</span>/.data/include<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-L<span class="nv">$MYNEURONHOME</span>/.data/lib<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-Wl,-rpath,<span class="nv">$MYNEURONHOME</span>/.data/lib<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-lnrniv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-o<span class="w"> </span>hh_sim
</pre></div>
</div>
<p>Now if you run <code class="docutils literal notranslate"><span class="pre">./hh_sim</span></code>, you’ll get a CSV file printed to stdout of a time series corresponding to
the action potential.</p>
<p>You could redirect stdout to a file and then open that output in a spreadsheet program or other tool for plotting
via e.g., <code class="docutils literal notranslate"><span class="pre">./hh_sim</span> <span class="pre">&gt;</span> <span class="pre">data.csv</span></code>.</p>
<p>Alternatively, if you have <code class="docutils literal notranslate"><span class="pre">pandas</span></code> and <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> installed, you can have the computer plot the action potential
via:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./hh_sim<span class="w"> </span><span class="p">|</span><span class="w"> </span>python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import sys, pandas as pd, matplotlib.pyplot as plt; pd.read_csv(sys.stdin).plot(x=0,y=1); plt.show()&quot;</span>
</pre></div>
</div>
<p>This displays the following image:</p>
<a class="reference internal image-reference" href="_images/hh_sim_cpp.png"><img alt="Hodgkin-Huxley simulation driven by a current clamp at 1ms showing an action potential" class="align-center" src="_images/hh_sim_cpp.png" style="width: 75%;" />
</a>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="dev/hocdomain-sphinx.html" class="btn btn-neutral float-left" title="HOC Sphinx Domain" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="doxygen.html" class="btn btn-neutral float-right" title="Internal C/C++ documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Duke, Yale and the Blue Brain Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>